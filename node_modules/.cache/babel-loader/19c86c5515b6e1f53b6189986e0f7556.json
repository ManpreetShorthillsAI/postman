{"ast":null,"code":"var _jsxFileName = \"/home/shtlp_0172/Desktop/postman/postman_project/src/components/playground/response/ResponseWrapper.js\",\n    _s = $RefreshSig$();\n\nimport { useContext, useState } from 'react';\nimport LineLoader from './LineLoader';\nimport HeadersTable from './HeadersTable';\nimport { Context } from '../../../contexts/Store';\nimport ResponseBody from './ResponseBody';\nimport style from './response.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ResponseWrapper = () => {\n  _s();\n\n  const {\n    state,\n    dispatch\n  } = useContext(Context);\n  const [respView, setRespView] = useState('body');\n  const [viewAs, setViewAs] = useState('pretty');\n  const [viewMode, setViewMode] = useState('json');\n  const [wordWrap, setWordWrap] = useState(false);\n  const units = ['bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\n  function getResponseSize(response) {\n    return niceBytes(JSON.stringify(response.data).length + JSON.stringify(response.headers).length);\n  }\n\n  function niceBytes(x) {\n    let l = 0,\n        n = parseInt(x, 10) || 0;\n\n    while (n >= 1024 && ++l) {\n      n = n / 1024;\n    }\n\n    return n.toFixed(n < 10 && l > 0 ? 1 : 0) + ' ' + units[l];\n  }\n\n  const cancelRequest = () => {\n    dispatch({\n      type: 'CANCEL_FORM_SUBMIT'\n    });\n  };\n\n  function saveAPIResponse() {\n    var file = new Blob([JSON.stringify(state.apiResponse.data, null, 2)], {\n      type: 'text/plain'\n    });\n    if (window.navigator.msSaveOrOpenBlob) window.navigator.msSaveOrOpenBlob(file, 'response.txt');else {\n      // Others\n      var a = document.createElement('a'),\n          url = URL.createObjectURL(file);\n      a.href = url;\n      a.download = 'response.txt';\n      document.body.appendChild(a);\n      a.click();\n      setTimeout(function () {\n        document.body.removeChild(a);\n        window.URL.revokeObjectURL(url);\n      }, 0);\n    }\n  }\n\n  async function copyAPIResponse() {\n    if (navigator.clipboard) {\n      await navigator.clipboard.writeText(JSON.stringify(state.apiResponse.data, null, 2));\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [state.formSubmitted && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(LineLoader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.overlay,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Sending request...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: cancelRequest,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), JSON.stringify(state.apiResponse) !== '{}' ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: state.splitView === 'V' ? style.wrapper_full : style.wrapper,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.top,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: style.header,\n          children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n            className: style.payload_types,\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              onClick: e => setRespView('body'),\n              className: respView === 'body' ? style.payload_tab_active : style.payload_tab,\n              children: \"Body\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: style.payload_tab_disabled,\n              children: \"Cookies\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              onClick: e => setRespView('headers'),\n              className: respView === 'headers' ? style.payload_tab_active : style.payload_tab,\n              children: [\"Headers\", ' ', state.apiResponse.headers && /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"(\", Object.entries(state.apiResponse.headers).length, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: style.payload_tab_disabled,\n              children: \"Test results\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: style.resp_meta,\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"feather-globe\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Status:\", ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [state.apiResponse.status, ' ', /*#__PURE__*/_jsxDEV(\"em\", {\n                  children: state.apiResponse.statusText\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 21\n                }, this), ' ']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Time: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [state.apiResponse.customData.time, \"ms\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Size: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: getResponseSize(state.apiResponse)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: style.saveBtn,\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: saveAPIResponse,\n              children: \"Save Response\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this), respView === 'body' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: style.more,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: style.tabs,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: style.tab_group,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: () => setViewAs('pretty'),\n                className: viewAs === 'pretty' ? style.tab_selected : '',\n                children: \"Pretty\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: () => setViewAs('raw'),\n                className: viewAs === 'raw' ? style.tab_selected : '',\n                children: \"Raw\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: () => setViewAs('preview'),\n                className: viewAs === 'preview' ? style.tab_selected : '',\n                children: \"Preview\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: () => setViewAs('visual'),\n                className: viewAs === 'visual' ? style.tab_selected : '',\n                children: \"Visualize\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 19\n            }, this), viewAs === 'pretty' && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: style.tab_group,\n                children: /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: viewMode,\n                  onChange: event => setViewMode(event.target.value),\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"json\",\n                    children: \"JSON\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 176,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"xml\",\n                    disabled: true,\n                    children: \"XML\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 177,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"html\",\n                    disabled: true,\n                    children: \"HTML\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 180,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"text\",\n                    disabled: true,\n                    children: \"Text\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 183,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"auto\",\n                    disabled: true,\n                    children: \"Auto\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 186,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: style.tab_group,\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: wordWrap ? style.button_selected : '',\n                  onClick: () => setWordWrap(!wordWrap),\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"feather-corner-down-left\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 196,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: style.resp_action,\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: copyAPIResponse,\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"feather-copy\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              disabled: true,\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"feather-search\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.scroll,\n        children: (() => {\n          switch (respView) {\n            case 'body':\n              return /*#__PURE__*/_jsxDEV(ResponseBody, {\n                data: state.apiResponse.data,\n                wrap: wordWrap,\n                viewAs: viewAs,\n                viewMode: viewMode\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 21\n              }, this);\n\n            case 'headers':\n              return /*#__PURE__*/_jsxDEV(HeadersTable, {\n                headers: Object.entries(state.apiResponse.headers)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 21\n              }, this);\n\n            default:\n              return;\n          }\n        })()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: state.apiError && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.apiError,\n        children: state.apiError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ResponseWrapper, \"sjUmcT3eW1jTIm/nEJxkOKTgXOA=\");\n\n_c = ResponseWrapper;\nexport default ResponseWrapper;\n\nvar _c;\n\n$RefreshReg$(_c, \"ResponseWrapper\");","map":{"version":3,"sources":["/home/shtlp_0172/Desktop/postman/postman_project/src/components/playground/response/ResponseWrapper.js"],"names":["useContext","useState","LineLoader","HeadersTable","Context","ResponseBody","style","ResponseWrapper","state","dispatch","respView","setRespView","viewAs","setViewAs","viewMode","setViewMode","wordWrap","setWordWrap","units","getResponseSize","response","niceBytes","JSON","stringify","data","length","headers","x","l","n","parseInt","toFixed","cancelRequest","type","saveAPIResponse","file","Blob","apiResponse","window","navigator","msSaveOrOpenBlob","a","document","createElement","url","URL","createObjectURL","href","download","body","appendChild","click","setTimeout","removeChild","revokeObjectURL","copyAPIResponse","clipboard","writeText","formSubmitted","overlay","splitView","wrapper_full","wrapper","top","header","payload_types","e","payload_tab_active","payload_tab","payload_tab_disabled","Object","entries","resp_meta","status","statusText","customData","time","saveBtn","more","tabs","tab_group","tab_selected","event","target","value","button_selected","resp_action","scroll","apiError"],"mappings":"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","sourcesContent":["import { useContext, useState } from 'react';\nimport LineLoader from './LineLoader';\nimport HeadersTable from './HeadersTable';\nimport { Context } from '../../../contexts/Store';\nimport ResponseBody from './ResponseBody';\nimport style from './response.module.css';\n\nconst ResponseWrapper = () => {\n  const { state, dispatch } = useContext(Context);\n  const [respView, setRespView] = useState('body');\n  const [viewAs, setViewAs] = useState('pretty');\n  const [viewMode, setViewMode] = useState('json');\n  const [wordWrap, setWordWrap] = useState(false);\n\n  const units = ['bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\n  function getResponseSize(response) {\n    return niceBytes(\n      JSON.stringify(response.data).length +\n        JSON.stringify(response.headers).length\n    );\n  }\n\n  function niceBytes(x) {\n    let l = 0,\n      n = parseInt(x, 10) || 0;\n    while (n >= 1024 && ++l) {\n      n = n / 1024;\n    }\n    return n.toFixed(n < 10 && l > 0 ? 1 : 0) + ' ' + units[l];\n  }\n\n  const cancelRequest = () => {\n    dispatch({ type: 'CANCEL_FORM_SUBMIT' });\n  };\n\n  function saveAPIResponse() {\n    var file = new Blob([JSON.stringify(state.apiResponse.data, null, 2)], {\n      type: 'text/plain',\n    });\n    if (window.navigator.msSaveOrOpenBlob)\n      window.navigator.msSaveOrOpenBlob(file, 'response.txt');\n    else {\n      // Others\n      var a = document.createElement('a'),\n        url = URL.createObjectURL(file);\n      a.href = url;\n      a.download = 'response.txt';\n      document.body.appendChild(a);\n      a.click();\n      setTimeout(function () {\n        document.body.removeChild(a);\n        window.URL.revokeObjectURL(url);\n      }, 0);\n    }\n  }\n\n  async function copyAPIResponse() {\n    if (navigator.clipboard) {\n      await navigator.clipboard.writeText(\n        JSON.stringify(state.apiResponse.data, null, 2)\n      );\n    }\n  }\n\n  return (\n    <>\n      {state.formSubmitted && (\n        <>\n          <LineLoader />\n          <div className={style.overlay}>\n            <div>\n              <p>Sending request...</p>\n              <button type=\"button\" onClick={cancelRequest}>\n                Cancel\n              </button>\n            </div>\n          </div>\n        </>\n      )}\n      {JSON.stringify(state.apiResponse) !== '{}' ? (\n        <div\n          className={\n            state.splitView === 'V' ? style.wrapper_full : style.wrapper\n          }\n        >\n          <div className={style.top}>\n            <div className={style.header}>\n              <ul className={style.payload_types}>\n                <li\n                  onClick={(e) => setRespView('body')}\n                  className={\n                    respView === 'body'\n                      ? style.payload_tab_active\n                      : style.payload_tab\n                  }\n                >\n                  Body\n                </li>\n                <li className={style.payload_tab_disabled}>Cookies</li>\n                <li\n                  onClick={(e) => setRespView('headers')}\n                  className={\n                    respView === 'headers'\n                      ? style.payload_tab_active\n                      : style.payload_tab\n                  }\n                >\n                  Headers{' '}\n                  {state.apiResponse.headers && (\n                    <span>\n                      ({Object.entries(state.apiResponse.headers).length})\n                    </span>\n                  )}\n                </li>\n                <li className={style.payload_tab_disabled}>Test results</li>\n              </ul>\n              <div className={style.resp_meta}>\n                <i className=\"feather-globe\"></i>\n                <div>\n                  Status:{' '}\n                  <span>\n                    {state.apiResponse.status}{' '}\n                    <em>{state.apiResponse.statusText}</em>{' '}\n                  </span>\n                </div>\n                <div>\n                  Time: <span>{state.apiResponse.customData.time}ms</span>\n                </div>\n                <div>\n                  Size: <span>{getResponseSize(state.apiResponse)}</span>\n                </div>\n              </div>\n              <div className={style.saveBtn}>\n                <button type=\"button\" onClick={saveAPIResponse}>\n                  Save Response\n                </button>\n              </div>\n            </div>\n            {respView === 'body' && (\n              <div className={style.more}>\n                <div className={style.tabs}>\n                  <div className={style.tab_group}>\n                    <div\n                      onClick={() => setViewAs('pretty')}\n                      className={viewAs === 'pretty' ? style.tab_selected : ''}\n                    >\n                      Pretty\n                    </div>\n                    <div\n                      onClick={() => setViewAs('raw')}\n                      className={viewAs === 'raw' ? style.tab_selected : ''}\n                    >\n                      Raw\n                    </div>\n                    <div\n                      onClick={() => setViewAs('preview')}\n                      className={viewAs === 'preview' ? style.tab_selected : ''}\n                    >\n                      Preview\n                    </div>\n                    <div\n                      onClick={() => setViewAs('visual')}\n                      className={viewAs === 'visual' ? style.tab_selected : ''}\n                    >\n                      Visualize\n                    </div>\n                  </div>\n                  {viewAs === 'pretty' && (\n                    <>\n                      <div className={style.tab_group}>\n                        <select\n                          value={viewMode}\n                          onChange={(event) => setViewMode(event.target.value)}\n                        >\n                          <option value=\"json\">JSON</option>\n                          <option value=\"xml\" disabled>\n                            XML\n                          </option>\n                          <option value=\"html\" disabled>\n                            HTML\n                          </option>\n                          <option value=\"text\" disabled>\n                            Text\n                          </option>\n                          <option value=\"auto\" disabled>\n                            Auto\n                          </option>\n                        </select>\n                      </div>\n                      <div className={style.tab_group}>\n                        <button\n                          className={wordWrap ? style.button_selected : ''}\n                          onClick={() => setWordWrap(!wordWrap)}\n                        >\n                          <i className=\"feather-corner-down-left\"></i>\n                        </button>\n                      </div>\n                    </>\n                  )}\n                </div>\n                <div className={style.resp_action}>\n                  <button type=\"button\" onClick={copyAPIResponse}>\n                    <i className=\"feather-copy\"></i>\n                  </button>\n                  <button disabled>\n                    <i className=\"feather-search\"></i>\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n          <div className={style.scroll}>\n            {(() => {\n              switch (respView) {\n                case 'body':\n                  return (\n                    <ResponseBody\n                      data={state.apiResponse.data}\n                      wrap={wordWrap}\n                      viewAs={viewAs}\n                      viewMode={viewMode}\n                    />\n                  );\n                case 'headers':\n                  return (\n                    <HeadersTable\n                      headers={Object.entries(state.apiResponse.headers)}\n                    />\n                  );\n                default:\n                  return;\n              }\n            })()}\n          </div>\n        </div>\n      ) : (\n        <div>\n          {state.apiError && (\n            <div className={style.apiError}>{state.apiError}</div>\n          )}\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default ResponseWrapper;\n"]},"metadata":{},"sourceType":"module"}